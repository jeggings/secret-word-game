<!doctype html> 
<html lang="en"> 
    <head> 
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="./css/styles.css" />
        <title>Secret Word Game</title>
        <script src="/socket.io/socket.io.js"></script>
        <script type="module">
            import {getNewWord,removeSingle, removeFromAll} from  "./scripts/game.js"

            const socket = io();
            socket.on('hello', function(msg) {
                //console.log(`RECIEVED MESSAGE ${msg}`)
            })

            document.querySelector("#newWordBtn").addEventListener("click", ()=>{getNewWord(socket)})
            document.querySelector("#removeFrom1").addEventListener("click", ()=>{removeSingle(socket,0)})
            document.querySelector("#removeFrom2").addEventListener("click", ()=>{removeSingle(socket,1)})
            document.querySelector("#removeFrom3").addEventListener("click", ()=>{removeSingle(socket,2)})
            document.querySelector("#removeFrom4").addEventListener("click", ()=>{removeSingle(socket,3)})
            document.querySelector("#removeFrom5").addEventListener("click", ()=>{removeSingle(socket,4)})

            document.querySelector("#removeFromAll").addEventListener("click", ()=>{removeFromAll(socket)})

            socket.on('GameState', function(msg) {
                for (let i in msg.letters){
                    document.querySelector(`#guessLetter${Number(i)+1}`).innerHTML=msg.letters[i]
                }
            })
            
        </script>
    </head>
    <body>

        <main>
            <h1>Secret Word Game!</h1>
            
            <div id="game-container">
                <h2>Your turn</h2>
                <input class="word-letter" maxlength="1" value="?">
                <input class="word-letter" maxlength="1" value="?">
                <input class="word-letter" maxlength="1" value="?">
                <input class="word-letter" maxlength="1" value="?">
                <input class="word-letter" maxlength="1" value="?">
                <br>
                <span class="guessLetter" id="guessLetter1"></span>
                <span class="guessLetter" id="guessLetter2"></span>
                <span class="guessLetter" id="guessLetter3"></span>
                <span class="guessLetter" id="guessLetter4"></span>
                <span class="guessLetter" id="guessLetter5"></span>

                <br><button id ="removeFrom1">Remove Wrong letter 1</button>
                <br><button id ="removeFrom2">Remove Wrong letter 2</button>
                <br><button id ="removeFrom3">Remove Wrong letter 3</button>
                <br><button id ="removeFrom4">Remove Wrong letter 4</button>
                <br><button id ="removeFrom5">Remove Wrong letter 5</button>
                <br><button id ="removeFromAll">Remove Wrong letter from all</button>
                <br><button id ="guessBtn">GUESS THE WORD</button>
                <br><button id ="newWordBtn">Get New Word</button>
            </div>
            <div class="game-overview">
                <h2>Game Overview</h2>
                <ul>
                    <li>Try to guess the secret word</li>
                    <li>Take turns</li>
                    <ul>
                        <li>Reduce Possible letterset of all letters</li>
                        <li>Reduce Possible letterset of specific letter</li>
                        <li>Guess the word</li>
                    </ul>
                </ul>
                <span class="tagline">Can you guess the <strong>SECRET WORD?</strong></span>
            </div>
        </main>
    </body>

</html>